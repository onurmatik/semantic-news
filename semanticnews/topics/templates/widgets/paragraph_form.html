{% load i18n %}
<div class="topic-widget-form" data-widget-form="paragraph">
    <div class="mb-3">
        <div class="border rounded bg-body-secondary-subtle p-3" data-widget-paragraph-preview>
            {% if content.text %}
                <p class="mb-0">{{ content.text|default_if_none:''|linebreaksbr }}</p>
            {% else %}
                <p class="text-muted mb-0">{% trans "Paragraph preview will appear here." %}</p>
            {% endif %}
        </div>
        <input
            type="hidden"
            name="text"
            value="{{ content.text|default_if_none:'' }}"
            aria-readonly="true"
            readonly
            data-widget-protected="true"
        >
    </div>

    <div class="mb-3">
        <label class="form-label" for="widget-paragraph-instructions">{% trans "Instructions" %}</label>
        <textarea
            id="widget-paragraph-instructions"
            class="form-control"
            name="instructions"
            rows="4"
            placeholder="{% trans 'Describe the paragraph you want to generate (tone, details, constraints)â€¦' %}"
        >{{ content.instructions|default_if_none:'' }}</textarea>
        <div class="form-text text-muted">
            {% blocktrans %}Optional instructions are sent to the model.{% endblocktrans %}
        </div>
    </div>
</div>